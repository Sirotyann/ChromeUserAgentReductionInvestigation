<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Accept-CH" content="Sec-CH-UA-Arch, Device-Memory, Viewport-Width" />
        <style>
            #board {
                font-family: sans-serif;
                padding: 20px;
            }

            #board > div {
                line-height: 40px;
                display: flex;
                border-bottom: 1px solid #dcdcdc;
            }

            #board label {
                width: 200px;
                color: #666;
            }
        </style>
    </head>
    <body>
        <a href="/accept">Accept-CH</a>
        <a href="/critical">Critical-CH</a>
        <p id="board">loading...</p>
        <script type="text/javascript">
            function getHeaders() {
                fetch("/getHeaders").then(resp => resp.json()).then(data => {
                    console.log(data);
                    const html = Object.keys(data).map(key => {
                        return `<div><label>${key}:</label><span>${data[key]}</span></div>`;
                    }).join('');
                    
                    document.querySelector("#board").innerHTML = html;
                })
            }
            
            getHeaders();
        </script>
    </body>
</html>